import{D as S,b as C,f as R,u as T,a as _,c as g}from"./fruits.6bd3e8ae.js";import{r as n}from"./iframe.e7aa5b54.js";import{j as d,a as j,F as y}from"./jsx-runtime.e0267163.js";import"./DebouncedInput.9595ed2b.js";import"./extends.bd401154.js";const f=()=>({table:{disable:!0}}),K={title:"DataTable/DataTable Submit All",component:S,args:{config:{sortable:!0,width:"100%",height:"100%",virtual:!1},header:{captionPadding:"1rem",tableCaption:"Fruits"},filters:{globalFilter:!0}},argTypes:{data:f(),columns:f(),table:f()}},h=C({}),U=t=>{const[o,i]=F(),[p,m]=n.exports.useState(R),x=T({...t,meta:{updateData:(e,u,l)=>{i(),m(a=>a.map((s,r)=>r===e?{...a[e],[u]:l}:s))}},data:p,columns:[..._,{accessorKey:"unit",header:"Unit",cell:({getValue:e,row:u,column:l,table:a})=>{const s=e(),[r,c]=n.exports.useState("");n.exports.useEffect(()=>{c(s)},[s]);const[k]=g(h),A=u.id;return k[A]?d("input",{type:"text",value:r,onChange:b=>{c(b.target.value)},onBlur:()=>{var b,D;(D=(b=a.options)==null?void 0:b.meta)==null||D.updateData(u.index,l.id,r)}}):e()}},{id:"edit",cell:e=>{const[u,l]=g(h);return d("button",{onClick:()=>{l(a=>{var c;const s=e.row.id,r=(c=a[s])!=null?c:!1;return{...a,[s]:!r}})},children:"edit"})}}]});return j(y,{children:[d(E,{table:x}),d(S,{...t,table:x})]})};function E({table:t}){const[o]=g(h);return d("button",{onClick:()=>{const i=Object.keys(o).reduce((p,m)=>(o[m]&&p.push(t.getRow(m).original),p),[]);console.log(i)},children:"Submit All"})}function F(){const t=n.exports.useRef(!0),o=t.current,i=n.exports.useCallback(()=>{t.current=!1},[]);return n.exports.useEffect(()=>{t.current=!0}),[o,i]}const V=["SubmitAll"];export{U as SubmitAll,V as __namedExportsOrder,K as default};
//# sourceMappingURL=DataTableRaw.stories.90570b61.js.map
